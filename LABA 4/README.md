# Звіт до роботи

## Тема: Робота з числовими даними в Python

## Мета: навчитися основам роботи з числовими даними в Python

### Структуровані масиви даних

Працюючи з масивами numpy можна по різнову задавати стуктуру даних, зберігати або вичитувати дані у файли. Виконайте всі пункти у Jupytere Notebook.

```py
def homework(message):
    print("\n>>>>>", message, "\n")
import numpy as np
```

```py
lst = [ [3.4, 8.7, 9.9],
        [1.1, -7.8, -0.7],
        [4.1, 12.3, 4.8] ]

A = np.array(lst, dtype=np.int8)
print(f"Отриманий масив має вигляд:\n{repr(A)}")
B = np.array(lst, dtype=np.float16)
print(f"Отриманий масив має вигляд:\n{repr(B)}")

homework("Згадуючи ООП, що робить функція repr?")
homework("У чому різниця між масивами A i B?")
```

> - Згадуючи ООП, що робить функція repr?
>
>   Повертає репрезентацію параметру для виводу
>
> - У чому різниця між масивами A i B?
>
>   Тип даних заставляє масив А вівдкинути додаткові значення після коми

## Задаємо свій тип даних

```py
dt = np.dtype([('name', np.compat.unicode, 20), ('mark', np.int8), ('group',  np.compat.unicode, 5)])
arr = [
    ("Bohdan", 4, "KN-31"),
    ("Marta", 5, "DO-44"),
    ("Noname", 0, "test-1"),
    ("Alex", 5, "KN-41")
    ]
C = np.array(arr, dtype=dt)
print(f"Отриманий масив має вигляд:\n{C}")
print(f"Доступитись до певної колонки тепер можна за її іменем: {C['mark']}")

homework("Як вивести всі імена присутні в даному масиві?")
print(C['name'])
```

    >>>>> Як вивести всі імена присутні в даному масиві?

    ['Bohdan' 'Marta' 'Noname' 'Alex']

## Запис та зчитування з файлу, формат CSV

```py
print("Вихідний масив: ", C)
np.savez("my_mass.npz", my_mass=C)
D = np.load("my_mass.npz")
print("Прочитаний з файлу: ", D["my_mass"])

filename = "temp.csv"
print(f"Записуємо у CSV файл {filename} значення: {C}")
np.savetxt(filename, C, fmt="%s,%d,%s", header="name,mark,group", delimiter=",")

import os
print(f"Перевіряємо чи файл {filename} створився: {os.listdir()}")

print("Читаємо файл за допомогою оператора with та методу readlines")
with open(filename) as f:
    D = f.readlines()

print(f"Прочитаний файл:\n {D} \n- як бачимо - {len(D)} елементи є стрічками {type(D[0])}.")

D = np.genfromtxt(filename, dtype=dt, delimiter=",")
print(f"Зчитане значення з файла:\n {D}, як бачимо - {D.size} елементи це {type(D[0])} \n- вбудований клас бібліотеки numpy.")
print(f"Доступитись до певного елемента можна наступним чином, наприклад імя першого елементу: {D[0]['name']}")

homework("""Створіть додаткове поле group - яке буде вказувавти групу.
Допишіть Ваше імя, оцінку та групу до масиву.
Збережіть та вичитайте дані у файл.
Прочитайте саме Ваше імя з масиву.""")
My_name = D['name'][-1]
print(f"My name is {My_name}")
```

```
>>>>> Створіть додаткове поле group - яке буде вказувавти групу.
Допишіть Ваше імя, оцінку та групу до масиву.
Збережіть та вичитайте дані у файл.
Прочитайте саме Ваше імя з масиву.

My name is Alex
```

### Операції над масивами

Над масивами можна виконувати безліч операцій, які частково були розглянуті у попередніх роботах. У Jupytere Notebook представлені деякі унікальні операції над масивами. Виконайте всі завдання у Jupytere Notebook.

```py
def homework(message):
    print("\n>>>>>", message, "\n")
import numpy as np
```

```py
l = (3, 3)

O = np.ones(l)
R = np.random.random(l)
Z = np.zeros(l)
C = np.arange(l[0])

print(f"""
Віднімання:\n {C - (O + 10)}
Множення:\n {O * R}
Ділення:\n {R / C}
Степінь:\n {C ** Z}
Поріняння:\n {R > 0.5}
Ділення на 0:\n {O / Z}
""")
homework("""
- Створіть власну матрицю за допомогою методу eye та виконайте порівняння на наявність 1.
- Створіть матрицю ones та відніміть від неї матрицю eye (щоб у результаті вийшла матриця де цетнтральні діагональ все нулі).
""")

E = np.eye(l[0])
print(O - E)
```

```
>>>>>
- Створіть власну матрицю за допомогою методу eye та виконайте порівняння на наявність 1.
- Створіть матрицю ones та відніміть від неї матрицю eye (щоб у результаті вийшла матриця де цетнтральні діагональ все нулі).


[[0. 1. 1.]
 [1. 0. 1.]
 [1. 1. 0.]]
```

## Конкатенація, повторення та зміна форми (shape)

```py
D = np.ones(3)
Z = np.zeros((3,1))
print(f"""
При конкатенації рядків маємо: {np.concatenate((D, D))}")
При конкатенації стовпців маємо:\n{np.concatenate((Z, Z))}
Масив D {D} має розмірність {D.shape} тому може виконати операцію конкатенації з В {B} розмірністю {B.shape}:
{np.concatenate((B, D))}
Для конкатенації з С
{C}
де С має розмірність = {C.shape} потрібно змінити розмірність D = {D.shape}
Це можна ось так:
{D[:, np.newaxis].shape}
або
{D.reshape((3,1)).shape}
в результаті ми можем виконати конкатенацію:
{np.concatenate((C, D.reshape((3,1))))}
При повторенні D {D} 2 рази для рядкі та 3 для стовпців будем мати:
{np.tile(D, (2, 3))}
Як бачимо конкатенація та повторення є дещо схожими у деяких випадках:
- конкатенація: {np.concatenate((D, D))}
- повторення: {np.tile(D, 2)}
Також можна перетворити двовимірний масив A розмірністю {A.shape} на рядок: {A.flatten()} з розмірністю {A.flatten().shape}
""")



homework(f"""Створіть двохвимірний масив за допомогою arange та виконайте конкатенацію та повторення.
Створіть масив в якому кількість рядкі та стовпців різна. Спробуйте виконати конкатенацію такого масиву з попереднім. Якщо розмірність масивів не спаівпадє використайте reshape.
Створіть декілька двовимірних масивів з сумарною розмірністю 12 та знайдіть всі можливі комбінції reshape. Наприклад, перша комбінація це рядок - {np.ones((1,12))}
""")

E = np.arange(1, 10).reshape(3, 3)
print(E, "\n\n", np.concatenate((E, E)), "\n\n", np.tile(E, 2),"\n")
F = np.arange(12).reshape(3,4)
print(F, "\n\n", np.concatenate((F.reshape(4,3), E)), "\n")
G = np.ones(12)
G1 = G.reshape(2,6)
G2 = G.reshape(3,4)
G3 = G.reshape(4,3)
G4 = G.reshape(6,2)
G5 = G.reshape(12, 1)
print(G, "\n\n", G1, "\n\n", G2, "\n\n", G3, "\n\n", G4, "\n\n", G5)
```

```
>>>>> Створіть двохвимірний масив за допомогою arange та виконайте конкатенацію та повторення.
Створіть масив в якому кількість рядкі та стовпців різна. Спробуйте виконати конкатенацію такого масиву з попереднім. Якщо розмірність масивів не спаівпадє використайте reshape.
Створіть декілька двовимірних масивів з сумарною розмірністю 12 та знайдіть всі можливі комбінції reshape. Наприклад, перша комбінація це рядок - [[1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]]


[[1 2 3]
 [4 5 6]
 [7 8 9]]

 [[1 2 3]
 [4 5 6]
 [7 8 9]
 [1 2 3]
 [4 5 6]
 [7 8 9]]

 [[1 2 3 1 2 3]
 [4 5 6 4 5 6]
 [7 8 9 7 8 9]]

[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]

 [[ 0  1  2]
 [ 3  4  5]
 [ 6  7  8]
 [ 9 10 11]
 [ 1  2  3]
 [ 4  5  6]
 [ 7  8  9]]

[1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1. 1.]

 [[1. 1. 1. 1. 1. 1.]
 [1. 1. 1. 1. 1. 1.]]

 [[1. 1. 1. 1.]
 [1. 1. 1. 1.]
 [1. 1. 1. 1.]]

 [[1. 1. 1.]
 [1. 1. 1.]
 [1. 1. 1.]
 [1. 1. 1.]]

 [[1. 1.]
 [1. 1.]
 [1. 1.]
 [1. 1.]
 [1. 1.]
 [1. 1.]]

 [[1.]
 [1.]
 [1.]
 [1.]
 [1.]
 [1.]
 [1.]
 [1.]
 [1.]
 [1.]
 [1.]
 [1.]]
```

## Трансформації масивів

```py
O = np.arange(6).reshape(3,2)
O_r = O.reshape((2,3))
O_f = O.flatten()
O_t = O.transpose()
O_fl = np.flip(O)
O_fa = np.flip(O, axis=1)

print(f"""{O}
Змінити розмірність shape {O.shape} на {O_r.shape} при цьому розмір size {O.size} = {O_r.size} та ndim {np.ndim(O)} = {np.ndim(O_r)}:
{O_r}
Також можна перетворити {np.ndim(O)}-х вимірний масив розмірністю {O.shape} на рядок:
{O_f}
з розмірністю {O_f.shape} при цьому size = {O_f.size} та ndim стане {np.ndim(O_f)}-х вимірним
Або транспонувати масив щоб він став {O_t.shape} але зверніть увагу на елементи:
{O_t}
Можна обернути масив (обертаємо по стовпцях і рядках одночасно):
{O_fl}
Або обернути лише елементи в кожному рядку (або стовпці):
{O_fa}
""")

homework("""
- Створіть вектор з 12 елементів, визначте його shape, size та ndim;
- Змініть розмірніть перетворивши вектор у матрицю;
- Здійсніть транспонування отриманої матриці та оберніть її;
- Перетворіть отриманий багатовимірний масив назад у вектор (стрічку);
""")

A = np.arange(12)
print(f"A - {A}, A.shape - {A.shape}, A.size - {A.size}, A.ndim - {A.ndim}")
A = A.reshape(3,4)
A_t = A.transpose()
A_fl = np.flip(A_t)
A_final = A_fl.reshape(12)
print(f"A.reshape - \n{A}\nA_t - \n{A_t}\nA_fl - \n{A_fl}\nA_final - {A_final}")
```

```
> > > > >

- Створіть вектор з 12 елементів, визначте його shape, size та ndim;
- Змініть розмірніть перетворивши вектор у матрицю;
- Здійсніть транспонування отриманої матриці та оберніть її;
- Перетворіть отриманий багатовимірний масив назад у вектор (стрічку);

A - [ 0 1 2 3 4 5 6 7 8 9 10 11], A.shape - (12,), A.size - 12, A.ndim - 1
A.reshape -
[[0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
A_t -
[[0  4  8]
 [ 1  5  9]
 [ 2  6 10]
 [ 3  7 11]]
A_fl -
[[11  7  3]
 [10  6  2]
 [ 9  5  1]
 [ 8  4  0]]
A_final - [11 7 3 10 6 2 9 5 1 8 4 0]
```

> # Висновок: я навчитився основам роботи з числовими даними в Python
